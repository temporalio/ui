<script lang="ts">
  import type { Hst as HST } from '@histoire/plugin-svelte';
  import Input from './input.svelte';
  import NumberInput from './number-input.svelte';
  import RangeInput from './range-input.svelte';

  export let Hst: HST;

  let value: string = '';
  let numberValue: string = '20';
  let hintText: string | undefined;
  let valid = true;
  let maxLength: number | undefined;
  let dark = false;
  let disabled = false;
  let clearable = false;
</script>

<Hst.Story>
  <Hst.Variant title="A Basic Text Input">
    <Input
      id="input-1"
      bind:value
      label="Hello"
      placeholder="Hello"
      {hintText}
      {valid}
      {maxLength}
      {disabled}
      {clearable}
      theme={dark ? 'dark' : 'light'}
    />
  </Hst.Variant>

  <Hst.Variant title="A Text Input with an Icon">
    <Input id="input-2" bind:value placeholder="Search" icon="search" />
  </Hst.Variant>

  <Hst.Variant title="A Copyable Input">
    <Input
      id="input-3"
      value="Copy Me!"
      copyable
      theme={dark ? 'dark' : 'light'}
    />
  </Hst.Variant>

  <Hst.Variant title="A Number Input">
    <NumberInput id="number-input-1" bind:value />
  </Hst.Variant>

  <Hst.Variant title="A Number Input with a Label, Units and a Max">
    <NumberInput
      label="Retention Period*"
      id="number-input-2"
      units="days"
      max={50}
      bind:value
    />
  </Hst.Variant>

  <Hst.Variant title="A Slider Input">
    <RangeInput
      label="day(s) retention"
      id="number-input-3"
      min={1}
      max={90}
      bind:value={numberValue}
    />
  </Hst.Variant>

  <svelte:fragment slot="controls">
    <Hst.Text title="Hint Text:" bind:value={hintText} />
    <Hst.Checkbox title="Valid: " bind:value={valid} />
    <Hst.Number title="Max Length: " bind:value={maxLength} />
    <Hst.Checkbox title="Dark: " bind:value={dark} />
    <Hst.Checkbox title="Disabled: " bind:value={disabled} />
    <Hst.Checkbox title="Clearable: " bind:value={clearable} />
  </svelte:fragment>
</Hst.Story>
