var x=Object.defineProperty,E=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var v=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&v(e,n,t[n]);if(S)for(var n of S(t))b.call(t,n)&&v(e,n,t[n]);return e},h=(e,t)=>E(e,T(t));import{r as c,a as d}from"./route-for-api-6e5006a4.js";var l,w=new Uint8Array(16);function C(){if(!l&&(l=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(w)}var P=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function A(e){return typeof e=="string"&&P.test(e)}var s=[];for(var p=0;p<256;++p)s.push((p+256).toString(16).substr(1));function V(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!A(n))throw TypeError("Stringified UUID is invalid");return n}function y(e,t,n){e=e||{};var o=e.random||(e.rng||C)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(var u=0;u<16;++u)t[n+u]=o[u];return t}return V(o)}const q=async(e,t=fetch)=>{var i;let n="";const o=a=>{var g,m;return n=(m=(g=a==null?void 0:a.body)==null?void 0:g.message)!=null?m:`Error fetching schedules: ${a.status}: ${a.statusText}`},{schedules:u,nextPageToken:r}=(i=await c(d("schedules",{namespace:e}),{params:{},onError:o,request:t}))!=null?i:{schedules:[],nextPageToken:""};return{schedules:u,nextPageToken:String(r),error:n}};async function O(e,t=fetch){return c(d("schedule",e),{request:t})}async function H(e,t=fetch){return c(d("schedule.delete",e),{request:t,options:{method:"DELETE"}})}async function J({namespace:e,body:t}){let n="";const o=r=>{var i,a;return n=(a=(i=r==null?void 0:r.body)==null?void 0:i.message)!=null?a:`Error creating schedule: ${r.status}: ${r.statusText}`},{conflictToken:u}=await c(d("schedules",{namespace:e}),{options:{method:"POST",body:JSON.stringify(f({request_id:y()},t))},shouldRetry:!1,onError:o});return{conflictToken:u,error:n}}async function N({namespace:e,scheduleId:t,reason:n}){const o={patch:{pause:n}};return await c(d("schedule",{namespace:e,scheduleId:t}),{options:{method:"PATCH",body:JSON.stringify(h(f({},o),{request_id:y()}))},shouldRetry:!1,onError:u=>console.error(u)})}async function U({namespace:e,scheduleId:t,reason:n}){const o={patch:{unpause:n}};return await c(d("schedule",{namespace:e,scheduleId:t}),{options:{method:"PATCH",body:JSON.stringify(h(f({},o),{request_id:y()}))},shouldRetry:!1})}export{q as a,J as c,H as d,O as f,N as p,U as u};
