import{h as I}from"./has-038f0a2e.js";const O=["workflowExecutionStartedEventAttributes","workflowExecutionCompletedEventAttributes","workflowExecutionFailedEventAttributes","workflowExecutionTimedOutEventAttributes","workflowTaskStartedEventAttributes","workflowTaskScheduledEventAttributes","workflowTaskCompletedEventAttributes","workflowTaskTimedOutEventAttributes","workflowTaskFailedEventAttributes","activityTaskScheduledEventAttributes","activityTaskCompletedEventAttributes","activityTaskStartedEventAttributes","activityTaskFailedEventAttributes","activityTaskTimedOutEventAttributes","timerStartedEventAttributes","timerFiredEventAttributes","activityTaskCancelRequestedEventAttributes","activityTaskCanceledEventAttributes","timerCanceledEventAttributes","markerRecordedEventAttributes","workflowExecutionSignaledEventAttributes","workflowExecutionTerminatedEventAttributes","workflowExecutionCancelRequestedEventAttributes","workflowExecutionCanceledEventAttributes","requestCancelExternalWorkflowExecutionInitiatedEventAttributes","requestCancelExternalWorkflowExecutionFailedEventAttributes","externalWorkflowExecutionCancelRequestedEventAttributes","workflowExecutionContinuedAsNewEventAttributes","startChildWorkflowExecutionInitiatedEventAttributes","startChildWorkflowExecutionFailedEventAttributes","childWorkflowExecutionStartedEventAttributes","childWorkflowExecutionCompletedEventAttributes","childWorkflowExecutionFailedEventAttributes","childWorkflowExecutionCanceledEventAttributes","childWorkflowExecutionTimedOutEventAttributes","childWorkflowExecutionTerminatedEventAttributes","signalExternalWorkflowExecutionInitiatedEventAttributes","signalExternalWorkflowExecutionFailedEventAttributes","externalWorkflowExecutionSignaledEventAttributes","upsertWorkflowSearchAttributesEventAttributes"],R=t=>{for(const i of O)if(i in t)return i},q=(t,i)=>t[i],et=t=>{const i=R(t),o=q(t,i);return{key:i,attributes:o}},e=t=>i=>Boolean(i[t]),it=e("workflowExecutionCompletedEventAttributes"),G=e("workflowExecutionFailedEventAttributes"),N=e("workflowExecutionTimedOutEventAttributes"),$=e("workflowTaskTimedOutEventAttributes"),L=e("workflowTaskFailedEventAttributes"),w=e("activityTaskScheduledEventAttributes"),M=e("activityTaskStartedEventAttributes"),B=e("activityTaskCompletedEventAttributes"),f=e("activityTaskFailedEventAttributes"),v=e("activityTaskTimedOutEventAttributes"),A=e("timerStartedEventAttributes"),K=e("timerFiredEventAttributes"),j=e("activityTaskCancelRequestedEventAttributes"),b=e("activityTaskCanceledEventAttributes"),m=e("timerCanceledEventAttributes"),T=e("markerRecordedEventAttributes"),x=e("workflowExecutionSignaledEventAttributes"),z=e("workflowExecutionTerminatedEventAttributes"),U=e("workflowExecutionCanceledEventAttributes"),W=e("startChildWorkflowExecutionInitiatedEventAttributes"),_=e("childWorkflowExecutionStartedEventAttributes"),D=e("childWorkflowExecutionCompletedEventAttributes"),H=e("childWorkflowExecutionFailedEventAttributes"),J=e("childWorkflowExecutionCanceledEventAttributes"),P=e("childWorkflowExecutionTimedOutEventAttributes"),C=e("childWorkflowExecutionTerminatedEventAttributes"),h=e("signalExternalWorkflowExecutionInitiatedEventAttributes"),Q=e("signalExternalWorkflowExecutionFailedEventAttributes"),y=t=>v(t)||f(t)||G(t)||N(t)||$(t)||L(t)||H(t)||P(t)||Q(t),ot=t=>E(t)?t.isFailureOrTimedOut:y(t),S=t=>b(t)||m(t)||U(t)||J(t),rt=t=>E(t)?t.isCanceled:S(t),g=t=>z(t)||C(t),nt=t=>E(t)?t.isTerminated:g(t),p=t=>M(t)?String(t.activityTaskStartedEventAttributes.scheduledEventId):b(t)?String(t.activityTaskCanceledEventAttributes.scheduledEventId):j(t)?String(t.activityTaskCancelRequestedEventAttributes.scheduledEventId):f(t)?String(t.activityTaskFailedEventAttributes.scheduledEventId):v(t)?String(t.activityTaskTimedOutEventAttributes.scheduledEventId):B(t)?String(t.activityTaskCompletedEventAttributes.scheduledEventId):_(t)?String(t.childWorkflowExecutionStartedEventAttributes.initiatedEventId):C(t)?String(t.childWorkflowExecutionTerminatedEventAttributes.initiatedEventId):D(t)?String(t.childWorkflowExecutionCompletedEventAttributes.initiatedEventId):K(t)?String(t.timerFiredEventAttributes.startedEventId):m(t)?String(t.timerCanceledEventAttributes.startedEventId):t.id,V=t=>{var i,o,n,r,c,d,a,u,l;if(!!t){if(w(t))return(o=(i=t.activityTaskScheduledEventAttributes)==null?void 0:i.activityType)==null?void 0:o.name;if(A(t))return`Timer ${(n=t.timerStartedEventAttributes)==null?void 0:n.timerId} (${(r=t.timerStartedEventAttributes)==null?void 0:r.startToFireTimeout})`;if(h(t))return`Signal: ${(c=t.signalExternalWorkflowExecutionInitiatedEventAttributes)==null?void 0:c.signalName}`;if(x(t))return`Signal received: ${(d=t.workflowExecutionSignaledEventAttributes)==null?void 0:d.signalName}`;if(T(t))return`Marker: ${(a=t.markerRecordedEventAttributes)==null?void 0:a.markerName}`;if(W(t))return`Child Workflow: ${(l=(u=t.startChildWorkflowExecutionInitiatedEventAttributes)==null?void 0:u.workflowType)==null?void 0:l.name}`}},k=({events:t})=>{let i=0,o;for(const n of t.values()){const r=Number(n.id);r>=i&&(i=r,o=n)}return o},s=t=>{const i=p(t),o=V(t),{timestamp:n,category:r,classification:c}=t,d=t,a=new Map,u=new Set;return a.set(t.id,t),u.add(t.id),{id:i,name:o,events:a,eventIds:u,initialEvent:d,timestamp:n,category:r,classification:c,get eventTime(){var l;return(l=this.lastEvent)==null?void 0:l.eventTime},get attributes(){var l;return(l=k(this))==null?void 0:l.attributes},get eventList(){return Array.from(this.events,([l,F])=>F)},get lastEvent(){return k(this)},get isFailureOrTimedOut(){return Boolean(this.eventList.find(y))},get isCanceled(){return Boolean(this.eventList.find(S))},get isTerminated(){return Boolean(this.eventList.find(g))}}},X=t=>{if(w(t)||W(t)||A(t)||h(t)||x(t)||T(t))return s(t)},Y=(t,i)=>{!t||(t.events.set(i.id,i),t.eventIds.add(i.id),t.timestamp=i.timestamp)},lt=t=>{const i={};for(const o of t){const n=p(o),r=X(o);r?i[r.id]=r:Y(i[n],o)}return Object.values(i)},E=t=>t==null?!1:I(t,"events"),Z={ActivityTaskCanceled:"activity",ActivityTaskCancelRequested:"activity",ActivityTaskCompleted:"activity",ActivityTaskFailed:"activity",ActivityTaskScheduled:"activity",ActivityTaskStarted:"activity",ActivityTaskTimedOut:"activity",ChildWorkflowExecutionCanceled:"child-workflow",ChildWorkflowExecutionCompleted:"child-workflow",ChildWorkflowExecutionFailed:"child-workflow",ChildWorkflowExecutionStarted:"child-workflow",ChildWorkflowExecutionTerminated:"child-workflow",ChildWorkflowExecutionTimedOut:"child-workflow",StartChildWorkflowExecutionFailed:"child-workflow",StartChildWorkflowExecutionInitiated:"child-workflow",MarkerRecorded:"marker",SignalExternalWorkflowExecutionFailed:"signal",SignalExternalWorkflowExecutionInitiated:"signal",WorkflowExecutionSignaled:"signal",TimerCanceled:"timer",TimerFired:"timer",TimerStarted:"timer",WorkflowExecutionCanceled:"workflow",WorkflowExecutionCancelRequested:"workflow",WorkflowExecutionCompleted:"workflow",WorkflowExecutionContinuedAsNew:"workflow",WorkflowExecutionFailed:"workflow",WorkflowExecutionStarted:"workflow",WorkflowExecutionTerminated:"workflow",WorkflowExecutionTimedOut:"workflow",WorkflowTaskCompleted:"workflow",WorkflowTaskFailed:"workflow",WorkflowTaskScheduled:"workflow",WorkflowTaskStarted:"workflow",WorkflowTaskTimedOut:"workflow",ExternalWorkflowExecutionCancelRequested:"workflow",ExternalWorkflowExecutionSignaled:"workflow",RequestCancelExternalWorkflowExecutionFailed:"workflow",RequestCancelExternalWorkflowExecutionInitiated:"workflow",UpsertWorkflowSearchAttributes:"command"},st=[{label:"All",option:void 0},{label:"Activity",option:"activity"},{label:"Child Workflow",option:"child-workflow"},{label:"Command",option:"command"},{label:"Marker",option:"marker"},{label:"Signal",option:"signal"},{label:"Timer",option:"timer"},{label:"Workflow",option:"workflow"}],at=[{label:"All",option:void 0},{label:"Activity",option:"activity"},{label:"Signal",option:"signal"},{label:"Timer",option:"timer"}],ut=t=>Z[t];export{ut as a,st as b,at as c,E as d,ot as e,et as f,lt as g,rt as h,it as i,nt as j};
