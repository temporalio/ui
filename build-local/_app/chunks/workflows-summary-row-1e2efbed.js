var tt=Object.defineProperty,lt=Object.defineProperties;var rt=Object.getOwnPropertyDescriptors;var Me=Object.getOwnPropertySymbols;var ot=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var Qe=(t,e,r)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Re=(t,e)=>{for(var r in e||(e={}))ot.call(e,r)&&Qe(t,r,e[r]);if(Me)for(var r of Me(e))st.call(e,r)&&Qe(t,r,e[r]);return t},je=(t,e)=>lt(t,rt(e));import{S as De,i as qe,s as Ee,I as at,e as m,t as N,k as I,c as h,a as v,h as C,d as c,m as S,b,g as ie,M as n,J as nt,K as it,L as ft,q as D,o as A,T as O,U as be,aq as ke,E as Te,H as ct,n as ye,p as ge,w as me,x as he,y as ve,B as pe,l as He,N as $e,j as ne,G as ut}from"./index-c85ade65.js";import{p as dt}from"./stores-2c13cc16.js";import{c as mt,f as x,d as Ke}from"./format-date-f8f72e15.js";import{n as ht}from"./route-for-ef692dd7.js";import{u as vt}from"./update-query-parameters-94043e37.js";import{c as pt,d as bt,e as kt,f as wt}from"./is-18735aa3.js";import{l as _t,m as yt}from"./to-duration-3f40f60b.js";import{t as Ge}from"./workflow-service-aa727209.js";import{W as gt}from"./workflow-status-2652a969.js";import{I as et}from"./index-c8da0ebb.js";import{c as Et}from"./copy-to-clipboard-b8e3d18c.js";function Tt(t){let e,r,l,s,f,o,a,i,p,W,g,k,V,j,G,U,w,z,M,_,L,B,q,Q;const F=t[1].default,E=at(F,t,t[0],null);return{c(){e=m("section"),r=m("div"),l=m("div"),s=m("div"),f=N("Status"),o=I(),a=m("div"),i=N("Workflow ID"),p=I(),W=m("div"),g=N("Type"),k=I(),V=m("div"),j=N("Start"),G=I(),U=m("div"),w=N("End"),z=I(),M=m("div"),_=m("div"),L=N("Summary"),B=I(),q=m("div"),E&&E.c(),this.h()},l(y){e=h(y,"SECTION",{class:!0});var T=v(e);r=h(T,"DIV",{class:!0});var $=v(r);l=h($,"DIV",{class:!0});var P=v(l);s=h(P,"DIV",{class:!0});var J=v(s);f=C(J,"Status"),J.forEach(c),o=S(P),a=h(P,"DIV",{class:!0});var Y=v(a);i=C(Y,"Workflow ID"),Y.forEach(c),p=S(P),W=h(P,"DIV",{class:!0});var Z=v(W);g=C(Z,"Type"),Z.forEach(c),k=S(P),V=h(P,"DIV",{class:!0});var ee=v(V);j=C(ee,"Start"),ee.forEach(c),G=S(P),U=h(P,"DIV",{class:!0});var te=v(U);w=C(te,"End"),te.forEach(c),P.forEach(c),$.forEach(c),z=S(T),M=h(T,"DIV",{class:!0});var X=v(M);_=h(X,"DIV",{class:!0});var le=v(_);L=C(le,"Summary"),le.forEach(c),X.forEach(c),B=S(T),q=h(T,"DIV",{class:!0});var re=v(q);E&&E.l(re),re.forEach(c),T.forEach(c),this.h()},h(){b(s,"class","table-header table-cell w-28 rounded-tl-md svelte-qkbvym"),b(a,"class","table-header table-cell md:w-60 xl:w-auto svelte-qkbvym"),b(W,"class","table-header table-cell md:w-60 xl:w-80 svelte-qkbvym"),b(V,"class","table-header hidden text-sm xl:table-cell xl:w-64 xl:text-base svelte-qkbvym"),b(U,"class","table-header hidden rounded-tr-md xl:table-cell xl:w-64 svelte-qkbvym"),b(l,"class","hidden md:table-row"),b(r,"class","table-header-row md:table-header-group svelte-qkbvym"),b(_,"class","rounded-t-md border-b p-2"),b(M,"class","table-header-row md:hidden svelte-qkbvym"),b(q,"class","overflow-y-auto md:table-row-group"),b(e,"class","workflow-table svelte-qkbvym")},m(y,T){ie(y,e,T),n(e,r),n(r,l),n(l,s),n(s,f),n(l,o),n(l,a),n(a,i),n(l,p),n(l,W),n(W,g),n(l,k),n(l,V),n(V,j),n(l,G),n(l,U),n(U,w),n(e,z),n(e,M),n(M,_),n(_,L),n(e,B),n(e,q),E&&E.m(q,null),Q=!0},p(y,[T]){E&&E.p&&(!Q||T&1)&&nt(E,F,y,y[0],Q?ft(F,y[0],T,null):it(y[0]),null)},i(y){Q||(D(E,y),Q=!0)},o(y){A(E,y),Q=!1},d(y){y&&c(e),E&&E.d(y)}}}function It(t,e,r){let{$$slots:l={},$$scope:s}=e;return t.$$set=f=>{"$$scope"in f&&r(0,s=f.$$scope)},[s,l]}class Xt extends De{constructor(e){super(),qe(this,e,It,Tt,Ee,{})}}const St=t=>{const e=[],r=()=>{l&&(e.push(l),l="")};let l="",s=0;for(;s<t.length;){const f=t[s];if(pt(f)){r(),l+=f,s++;continue}if(bt(f)||kt(f)){r(),s++;continue}l+=f,s++}return r(),e},Ie=t=>e=>e.toLowerCase()===t.toLowerCase(),_e=(t,e)=>t[e+2],Dt=t=>{if(!!t){for(const e of yt)if(t[e])return{[e]:t[e]}}},qt=Ie("WorkflowType"),Vt=Ie("WorkflowId"),Wt=Ie("StartTime"),Ft=Ie("ExecutionStatus"),Pt=t=>{const e=St(t),r={workflowId:"",workflowType:"",executionStatus:null,timeRange:null};return e.forEach((l,s)=>{if(Vt(l)&&(r.workflowId=_e(e,s)),qt(l)&&(r.workflowType=_e(e,s)),Ft(l)){const f=_e(e,s);wt(f)&&(r.executionStatus=f)}if(Wt(l)){const f=_e(e,s);try{const o=_t(f),a=Dt(o);r.timeRange=mt(a)}catch(o){console.error("Error parsing StartTime from query",o)}}}),r};function Je(t){let e,r,l,s,f,o=t[1]&&Xe(t),a=t[2]&&Ze(t);return{c(){e=m("div"),o&&o.c(),r=I(),a&&a.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var p=v(e);o&&o.l(p),r=S(p),a&&a.l(p),p.forEach(c),this.h()},h(){b(e,"class","copy-or-filter svelte-1llgntb")},m(i,p){ie(i,e,p),o&&o.m(e,null),n(e,r),a&&a.m(e,null),l=!0,s||(f=O(e,"click",be(ke(Te))),s=!0)},p(i,p){i[1]?o?(o.p(i,p),p&2&&D(o,1)):(o=Xe(i),o.c(),D(o,1),o.m(e,r)):o&&(ye(),A(o,1,1,()=>{o=null}),ge()),i[2]?a?(a.p(i,p),p&4&&D(a,1)):(a=Ze(i),a.c(),D(a,1),a.m(e,null)):a&&(ye(),A(a,1,1,()=>{a=null}),ge())},i(i){l||(D(o),D(a),l=!0)},o(i){A(o),A(a),l=!1},d(i){i&&c(e),o&&o.d(),a&&a.d(),s=!1,f()}}}function Xe(t){let e,r=t[4],l,s,f,o=Ye(t);return{c(){e=m("button"),o.c()},l(a){e=h(a,"BUTTON",{});var i=v(e);o.l(i),i.forEach(c)},m(a,i){ie(a,e,i),o.m(e,null),l=!0,s||(f=O(e,"click",be(ke(function(){ct(t[3])&&t[3].apply(this,arguments)}))),s=!0)},p(a,i){t=a,i&16&&Ee(r,r=t[4])?(ye(),A(o,1,1,Te),ge(),o=Ye(t),o.c(),D(o,1),o.m(e,null)):o.p(t,i)},i(a){l||(D(o),l=!0)},o(a){A(o),l=!1},d(a){a&&c(e),o.d(a),s=!1,f()}}}function Ye(t){let e,r;return e=new et({props:{name:"filter",stroke:"#000",fill:t[4]?"#000":"",class:"h-4 w-4"}}),{c(){me(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,s){ve(e,l,s),r=!0},p(l,s){const f={};s&16&&(f.fill=l[4]?"#000":""),e.$set(f)},i(l){r||(D(e.$$.fragment,l),r=!0)},o(l){A(e.$$.fragment,l),r=!1},d(l){pe(e,l)}}}function Ze(t){let e,r,l,s,f;return r=new et({props:{name:t[5]?"checkMark":"copy",stroke:"#000",class:"h-4 w-4"}}),{c(){e=m("button"),me(r.$$.fragment)},l(o){e=h(o,"BUTTON",{});var a=v(e);he(r.$$.fragment,a),a.forEach(c)},m(o,a){ie(o,e,a),ve(r,e,null),l=!0,s||(f=O(e,"click",be(ke(t[6]))),s=!0)},p(o,a){const i={};a&32&&(i.name=o[5]?"checkMark":"copy"),r.$set(i)},i(o){l||(D(r.$$.fragment,o),l=!0)},o(o){A(r.$$.fragment,o),l=!1},d(o){o&&c(e),pe(r),s=!1,f()}}}function Nt(t){let e,r,l=t[0]&&Je(t);return{c(){l&&l.c(),e=He()},l(s){l&&l.l(s),e=He()},m(s,f){l&&l.m(s,f),ie(s,e,f),r=!0},p(s,[f]){s[0]?l?(l.p(s,f),f&1&&D(l,1)):(l=Je(s),l.c(),D(l,1),l.m(e.parentNode,e)):l&&(ye(),A(l,1,1,()=>{l=null}),ge())},i(s){r||(D(l),r=!0)},o(s){A(l),r=!1},d(s){l&&l.d(s),s&&c(e)}}}function Ct(t,e,r){let l,{show:s=!1}=e,{filterable:f=!0}=e,{copyable:o=!0}=e,{content:a}=e,{onFilter:i=Te}=e,{filtered:p=!1}=e;const{copy:W,copied:g}=Et(a,700);return $e(t,g,k=>r(5,l=k)),t.$$set=k=>{"show"in k&&r(0,s=k.show),"filterable"in k&&r(1,f=k.filterable),"copyable"in k&&r(2,o=k.copyable),"content"in k&&r(8,a=k.content),"onFilter"in k&&r(3,i=k.onFilter),"filtered"in k&&r(4,p=k.filtered)},[s,f,o,i,p,l,W,g,a]}class xe extends De{constructor(e){super(),qe(this,e,Ct,Nt,Ee,{show:0,filterable:1,copyable:2,content:8,onFilter:3,filtered:4})}}function At(t){var We,Fe,Pe;let e,r,l,s,f,o,a,i=t[0].id+"",p,W,g,k,V,j=x(t[0].startTime,t[1])+"",G,U,w,z,M,_,L,B=t[0].name+"",q,Q,F,E,y,T=x(t[0].endTime,t[1])+"",$,P,J,Y,Z=x(t[0].startTime,t[1])+"",ee,te,X,le,re,oe,fe,ce=x(t[0].endTime,t[1])+"",we,H,Se,Ve;return s=new gt({props:{status:t[0].status,delay:Ke(t[0].startTime)}}),g=new xe({props:{show:t[2],content:t[0].id,filterable:!1}}),F=new xe({props:{show:t[2],content:t[0].name,onFilter:t[12],filtered:(Pe=(Fe=(We=t[4].url)==null?void 0:We.searchParams)==null?void 0:Fe.get("query"))==null?void 0:Pe.includes(t[0].name)}}),{c(){e=m("a"),r=m("div"),l=m("div"),me(s.$$.fragment),f=I(),o=m("div"),a=m("span"),p=N(i),W=I(),me(g.$$.fragment),k=I(),V=m("p"),G=N(j),U=I(),w=m("div"),z=m("h3"),M=N("Workflow Name:"),_=I(),L=m("span"),q=N(B),Q=I(),me(F.$$.fragment),E=I(),y=m("p"),$=N(T),P=I(),J=m("div"),Y=m("p"),ee=N(Z),te=I(),X=m("span"),le=N("-"),re=I(),oe=m("div"),fe=m("p"),we=N(ce),this.h()},l(u){e=h(u,"A",{href:!0,class:!0});var d=v(e);r=h(d,"DIV",{class:!0});var se=v(r);l=h(se,"DIV",{});var ae=v(l);he(s.$$.fragment,ae),ae.forEach(c),se.forEach(c),f=S(d),o=h(d,"DIV",{class:!0});var R=v(o);a=h(R,"SPAN",{class:!0});var ue=v(a);p=C(ue,i),ue.forEach(c),W=S(R),he(g.$$.fragment,R),k=S(R),V=h(R,"P",{class:!0});var de=v(V);G=C(de,j),de.forEach(c),R.forEach(c),U=S(d),w=h(d,"DIV",{class:!0});var K=v(w);z=h(K,"H3",{class:!0});var Ne=v(z);M=C(Ne,"Workflow Name:"),Ne.forEach(c),_=S(K),L=h(K,"SPAN",{class:!0});var Ce=v(L);q=C(Ce,B),Ce.forEach(c),Q=S(K),he(F.$$.fragment,K),E=S(K),y=h(K,"P",{class:!0});var Ae=v(y);$=C(Ae,T),Ae.forEach(c),K.forEach(c),P=S(d),J=h(d,"DIV",{class:!0});var Le=v(J);Y=h(Le,"P",{});var Be=v(Y);ee=C(Be,Z),Be.forEach(c),Le.forEach(c),te=S(d),X=h(d,"SPAN",{class:!0});var Oe=v(X);le=C(Oe,"-"),Oe.forEach(c),re=S(d),oe=h(d,"DIV",{class:!0});var Ue=v(oe);fe=h(Ue,"P",{});var ze=v(fe);we=C(ze,ce),ze.forEach(c),Ue.forEach(c),d.forEach(c),this.h()},h(){b(r,"class","cell svelte-1lknr5h"),b(a,"class","table-link svelte-1lknr5h"),b(V,"class","time-cell-inline svelte-1lknr5h"),b(o,"class","cell links relative truncate font-medium md:font-normal svelte-1lknr5h"),b(z,"class","md:hidden"),b(L,"class","table-link svelte-1lknr5h"),b(y,"class","time-cell-inline svelte-1lknr5h"),b(w,"class","cell links relative flex items-center justify-between gap-2 truncate font-medium md:font-normal svelte-1lknr5h"),b(J,"class","time-cell font-normal svelte-1lknr5h"),b(X,"class","md:hidden"),b(oe,"class","time-cell font-medium md:font-normal svelte-1lknr5h"),b(e,"href",t[3]),b(e,"class","row group svelte-1lknr5h")},m(u,d){ie(u,e,d),n(e,r),n(r,l),ve(s,l,null),n(e,f),n(e,o),n(o,a),n(a,p),n(o,W),ve(g,o,null),n(o,k),n(o,V),n(V,G),n(e,U),n(e,w),n(w,z),n(z,M),n(w,_),n(w,L),n(L,q),n(w,Q),ve(F,w,null),n(w,E),n(w,y),n(y,$),n(e,P),n(e,J),n(J,Y),n(Y,ee),n(e,te),n(e,X),n(X,le),n(e,re),n(e,oe),n(oe,fe),n(fe,we),H=!0,Se||(Ve=[O(o,"mouseover",t[7]),O(o,"focus",t[8]),O(o,"mouseleave",t[9]),O(o,"blur",t[10]),O(L,"click",be(ke(t[11]))),O(w,"mouseover",t[13]),O(w,"focus",t[14]),O(w,"mouseleave",t[15]),O(w,"blur",t[16]),O(w,"click",be(ke(Te)))],Se=!0)},p(u,[d]){var ue,de,K;const se={};d&1&&(se.status=u[0].status),d&1&&(se.delay=Ke(u[0].startTime)),s.$set(se),(!H||d&1)&&i!==(i=u[0].id+"")&&ne(p,i);const ae={};d&4&&(ae.show=u[2]),d&1&&(ae.content=u[0].id),g.$set(ae),(!H||d&3)&&j!==(j=x(u[0].startTime,u[1])+"")&&ne(G,j),(!H||d&1)&&B!==(B=u[0].name+"")&&ne(q,B);const R={};d&4&&(R.show=u[2]),d&1&&(R.content=u[0].name),d&1&&(R.onFilter=u[12]),d&17&&(R.filtered=(K=(de=(ue=u[4].url)==null?void 0:ue.searchParams)==null?void 0:de.get("query"))==null?void 0:K.includes(u[0].name)),F.$set(R),(!H||d&3)&&T!==(T=x(u[0].endTime,u[1])+"")&&ne($,T),(!H||d&3)&&Z!==(Z=x(u[0].startTime,u[1])+"")&&ne(ee,Z),(!H||d&3)&&ce!==(ce=x(u[0].endTime,u[1])+"")&&ne(we,ce),(!H||d&8)&&b(e,"href",u[3])},i(u){H||(D(s.$$.fragment,u),D(g.$$.fragment,u),D(F.$$.fragment,u),H=!0)},o(u){A(s.$$.fragment,u),A(g.$$.fragment,u),A(F.$$.fragment,u),H=!1},d(u){u&&c(e),pe(s),pe(g),pe(F),Se=!1,ut(Ve)}}}function Lt(t,e,r){let l,s;$e(t,dt,_=>r(4,s=_));let{namespace:f}=e,{workflow:o}=e,{timeFormat:a}=e,i=!1;const p=_=>{const L=Ge({timeRange:"All"}),B=s.url.searchParams.get("query"),q=Pt(B!=null?B:L),Q=(q==null?void 0:q.workflowType)===_?"":_,F=Ge(je(Re({},q),{workflowType:Q}));vt({url:s.url,parameter:"query",value:F,allowEmpty:!0})},W=()=>r(2,i=!0),g=()=>r(2,i=!0),k=()=>r(2,i=!1),V=()=>r(2,i=!1),j=()=>p(o.name),G=()=>p(o.name),U=()=>r(2,i=!0),w=()=>r(2,i=!0),z=()=>r(2,i=!1),M=()=>r(2,i=!1);return t.$$set=_=>{"namespace"in _&&r(6,f=_.namespace),"workflow"in _&&r(0,o=_.workflow),"timeFormat"in _&&r(1,a=_.timeFormat)},t.$$.update=()=>{t.$$.dirty&65&&r(3,l=ht({namespace:f,workflow:o.id,run:o.runId}))},[o,a,i,l,s,p,f,W,g,k,V,j,G,U,w,z,M]}class Yt extends De{constructor(e){super(),qe(this,e,Lt,At,Ee,{namespace:6,workflow:0,timeFormat:1})}}export{Xt as W,Yt as a,Pt as t};
