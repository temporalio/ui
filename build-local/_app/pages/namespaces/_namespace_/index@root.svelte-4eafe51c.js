import{S as Ht,i as Ot,s as Gt,w as jt,k as p,e as n,t as m,x as qt,m as f,c as l,a as o,h as u,d as s,b as r,y as Ft,g as Ue,M as e,j as V,q as Lt,o as Mt,B as Yt,N as Ee,v as Bt,a8 as zt}from"../../../chunks/index-c85ade65.js";import{t as Jt,u as Kt,s as Qt}from"../../../chunks/event-view-177e8eae.js";import{l as kt}from"../../../chunks/namespaces-04ab41f4.js";import{e as Dt}from"../../../chunks/format-date-f8f72e15.js";import{P as Wt}from"../../../chunks/page-title-de4dcecc.js";import{p as Xt}from"../../../chunks/stores-2c13cc16.js";import"../../../chunks/index-203c0d43.js";import"../../../chunks/persist-store-9b44ce28.js";import"../../../chunks/is-function-b969a126.js";import"../../../chunks/settings-3cc4c6ae.js";import"../../../chunks/version-check-cead3852.js";import"../../../chunks/is-18735aa3.js";import"../../../chunks/to-duration-3f40f60b.js";const Zt=a=>{var h,g;const _=(h=a==null?void 0:a.replicationConfig)==null?void 0:h.clusters,y=(g=a==null?void 0:a.replicationConfig)==null?void 0:g.activeClusterName;return _!=null&&_.length?_.map(({clusterName:P})=>P===y?`${P} (active)`:P).join(", "):"Unknown"};function $t(a){var ut,dt,vt,_t,ht,Et,yt,Nt,Pt,gt,St,At,Vt,wt,It,bt;let _,y,h,g,P=((dt=(ut=a[0])==null?void 0:ut.namespaceInfo)==null?void 0:dt.name)+"",S,w,E,i,c,ke,De,I,J,He,Oe,se=((_t=(vt=a[0])==null?void 0:vt.namespaceInfo)==null?void 0:_t.description)+"",ye,Ge,b,K,je,qe,re=(((Et=(ht=a[0])==null?void 0:ht.namespaceInfo)==null?void 0:Et.ownerEmail)||"Unknown")+"",Ne,Fe,C,Q,Le,Me,ne=(yt=a[0])!=null&&yt.isGlobalNamespace?"Yes":"No",Pe,Ye,T,W,Be,ze,le=Dt((Pt=(Nt=a[0])==null?void 0:Nt.config)==null?void 0:Pt.workflowExecutionRetentionTtl.toString())+"",ge,Je,R,X,Ke,Qe,oe=((St=(gt=a[0])==null?void 0:gt.config)==null?void 0:St.historyArchivalState)+"",Se,We,U,Z,Xe,Ze,ie=((Vt=(At=a[0])==null?void 0:At.config)==null?void 0:Vt.visibilityArchivalState)+"",Ae,$e,k,$,xe,et,ce=((wt=a[0])==null?void 0:wt.failoverVersion)+"",Ve,tt,D,x,at,st,we,rt,A,ee,nt,lt,H,te,ot,it,Ie,ct,O,ae,pt,mt,be,ft,N;return _=new Wt({props:{title:`Namespaces | ${(bt=(It=a[0])==null?void 0:It.namespaceInfo)==null?void 0:bt.name}`,url:a[2].url.href}}),{c(){jt(_.$$.fragment),y=p(),h=n("h2"),g=m("Namespace: "),S=m(P),w=p(),E=n("div"),i=n("article"),c=n("h1"),ke=m("Details"),De=p(),I=n("p"),J=n("span"),He=m("Description:"),Oe=p(),ye=m(se),Ge=p(),b=n("p"),K=n("span"),je=m("Owner:"),qe=p(),Ne=m(re),Fe=p(),C=n("p"),Q=n("span"),Le=m("Global?"),Me=p(),Pe=m(ne),Ye=p(),T=n("p"),W=n("span"),Be=m("Retention Period:"),ze=p(),ge=m(le),Je=p(),R=n("p"),X=n("span"),Ke=m("History Archival:"),Qe=p(),Se=m(oe),We=p(),U=n("p"),Z=n("span"),Xe=m("Visibility Archival:"),Ze=p(),Ae=m(ie),$e=p(),k=n("p"),$=n("span"),xe=m("Failover Version:"),et=p(),Ve=m(ce),tt=p(),D=n("p"),x=n("span"),at=m("Clusters:"),st=p(),we=m(a[1]),rt=p(),A=n("article"),ee=n("h1"),nt=m("Versions"),lt=p(),H=n("p"),te=n("span"),ot=m("Temporal Server Version:"),it=p(),Ie=m(a[3]),ct=p(),O=n("p"),ae=n("span"),pt=m("Temporal UI Version:"),mt=p(),be=m(a[4]),ft=p(),this.h()},l(t){qt(_.$$.fragment,t),y=f(t),h=l(t,"H2",{class:!0,"data-cy":!0});var d=o(h);g=u(d,"Namespace: "),S=u(d,P),d.forEach(s),w=f(t),E=l(t,"DIV",{class:!0});var G=o(E);i=l(G,"ARTICLE",{class:!0});var v=o(i);c=l(v,"H1",{class:!0});var pe=o(c);ke=u(pe,"Details"),pe.forEach(s),De=f(v),I=l(v,"P",{"data-cy":!0});var j=o(I);J=l(j,"SPAN",{class:!0});var me=o(J);He=u(me,"Description:"),me.forEach(s),Oe=f(j),ye=u(j,se),j.forEach(s),Ge=f(v),b=l(v,"P",{"data-cy":!0});var q=o(b);K=l(q,"SPAN",{class:!0});var fe=o(K);je=u(fe,"Owner:"),fe.forEach(s),qe=f(q),Ne=u(q,re),q.forEach(s),Fe=f(v),C=l(v,"P",{"data-cy":!0});var F=o(C);Q=l(F,"SPAN",{class:!0});var ue=o(Q);Le=u(ue,"Global?"),ue.forEach(s),Me=f(F),Pe=u(F,ne),F.forEach(s),Ye=f(v),T=l(v,"P",{"data-cy":!0});var L=o(T);W=l(L,"SPAN",{class:!0});var de=o(W);Be=u(de,"Retention Period:"),de.forEach(s),ze=f(L),ge=u(L,le),L.forEach(s),Je=f(v),R=l(v,"P",{"data-cy":!0});var M=o(R);X=l(M,"SPAN",{class:!0});var ve=o(X);Ke=u(ve,"History Archival:"),ve.forEach(s),Qe=f(M),Se=u(M,oe),M.forEach(s),We=f(v),U=l(v,"P",{"data-cy":!0});var Y=o(U);Z=l(Y,"SPAN",{class:!0});var _e=o(Z);Xe=u(_e,"Visibility Archival:"),_e.forEach(s),Ze=f(Y),Ae=u(Y,ie),Y.forEach(s),$e=f(v),k=l(v,"P",{"data-cy":!0});var B=o(k);$=l(B,"SPAN",{class:!0});var he=o($);xe=u(he,"Failover Version:"),he.forEach(s),et=f(B),Ve=u(B,ce),B.forEach(s),tt=f(v),D=l(v,"P",{"data-cy":!0});var Ce=o(D);x=l(Ce,"SPAN",{class:!0});var Ct=o(x);at=u(Ct,"Clusters:"),Ct.forEach(s),st=f(Ce),we=u(Ce,a[1]),Ce.forEach(s),v.forEach(s),rt=f(G),A=l(G,"ARTICLE",{class:!0});var z=o(A);ee=l(z,"H1",{class:!0});var Tt=o(ee);nt=u(Tt,"Versions"),Tt.forEach(s),lt=f(z),H=l(z,"P",{"data-cy":!0});var Te=o(H);te=l(Te,"SPAN",{class:!0});var Rt=o(te);ot=u(Rt,"Temporal Server Version:"),Rt.forEach(s),it=f(Te),Ie=u(Te,a[3]),Te.forEach(s),ct=f(z),O=l(z,"P",{"data-cy":!0});var Re=o(O);ae=l(Re,"SPAN",{class:!0});var Ut=o(ae);pt=u(Ut,"Temporal UI Version:"),Ut.forEach(s),mt=f(Re),be=u(Re,a[4]),Re.forEach(s),ft=f(z),z.forEach(s),G.forEach(s),this.h()},h(){r(h,"class","text-2xl"),r(h,"data-cy","namespace-title"),r(c,"class","my-4 text-lg font-medium"),r(J,"class","mr-2 font-medium"),r(I,"data-cy","namespace-description"),r(K,"class","mr-2 font-medium"),r(b,"data-cy","namespace-owner"),r(Q,"class","mr-2 font-medium"),r(C,"data-cy","namespace-global"),r(W,"class","mr-2 font-medium"),r(T,"data-cy","namespace-retention"),r(X,"class","mr-2 font-medium"),r(R,"data-cy","namespace-history"),r(Z,"class","mr-2 font-medium"),r(U,"data-cy","namespace-visibility"),r($,"class","mr-2 font-medium"),r(k,"data-cy","namespace-failover"),r(x,"class","mr-2 font-medium"),r(D,"data-cy","namespace-clusters"),r(i,"class","namespace-info w-full p-4"),r(ee,"class","my-4 text-lg font-medium"),r(te,"class","mr-2 font-medium"),r(H,"data-cy","server-version"),r(ae,"class","mr-2 font-medium"),r(O,"data-cy","ui-version"),r(A,"class","namespace-info w-full p-4"),r(E,"class","flex")},m(t,d){Ft(_,t,d),Ue(t,y,d),Ue(t,h,d),e(h,g),e(h,S),Ue(t,w,d),Ue(t,E,d),e(E,i),e(i,c),e(c,ke),e(i,De),e(i,I),e(I,J),e(J,He),e(I,Oe),e(I,ye),e(i,Ge),e(i,b),e(b,K),e(K,je),e(b,qe),e(b,Ne),e(i,Fe),e(i,C),e(C,Q),e(Q,Le),e(C,Me),e(C,Pe),e(i,Ye),e(i,T),e(T,W),e(W,Be),e(T,ze),e(T,ge),e(i,Je),e(i,R),e(R,X),e(X,Ke),e(R,Qe),e(R,Se),e(i,We),e(i,U),e(U,Z),e(Z,Xe),e(U,Ze),e(U,Ae),e(i,$e),e(i,k),e(k,$),e($,xe),e(k,et),e(k,Ve),e(i,tt),e(i,D),e(D,x),e(x,at),e(D,st),e(D,we),e(E,rt),e(E,A),e(A,ee),e(ee,nt),e(A,lt),e(A,H),e(H,te),e(te,ot),e(H,it),e(H,Ie),e(A,ct),e(A,O),e(O,ae),e(ae,pt),e(O,mt),e(O,be),e(A,ft),N=!0},p(t,[d]){var v,pe,j,me,q,fe,F,ue,L,de,M,ve,Y,_e,B,he;const G={};d&1&&(G.title=`Namespaces | ${(pe=(v=t[0])==null?void 0:v.namespaceInfo)==null?void 0:pe.name}`),d&4&&(G.url=t[2].url.href),_.$set(G),(!N||d&1)&&P!==(P=((me=(j=t[0])==null?void 0:j.namespaceInfo)==null?void 0:me.name)+"")&&V(S,P),(!N||d&1)&&se!==(se=((fe=(q=t[0])==null?void 0:q.namespaceInfo)==null?void 0:fe.description)+"")&&V(ye,se),(!N||d&1)&&re!==(re=(((ue=(F=t[0])==null?void 0:F.namespaceInfo)==null?void 0:ue.ownerEmail)||"Unknown")+"")&&V(Ne,re),(!N||d&1)&&ne!==(ne=(L=t[0])!=null&&L.isGlobalNamespace?"Yes":"No")&&V(Pe,ne),(!N||d&1)&&le!==(le=Dt((M=(de=t[0])==null?void 0:de.config)==null?void 0:M.workflowExecutionRetentionTtl.toString())+"")&&V(ge,le),(!N||d&1)&&oe!==(oe=((Y=(ve=t[0])==null?void 0:ve.config)==null?void 0:Y.historyArchivalState)+"")&&V(Se,oe),(!N||d&1)&&ie!==(ie=((B=(_e=t[0])==null?void 0:_e.config)==null?void 0:B.visibilityArchivalState)+"")&&V(Ae,ie),(!N||d&1)&&ce!==(ce=((he=t[0])==null?void 0:he.failoverVersion)+"")&&V(Ve,ce),(!N||d&2)&&V(we,t[1]),(!N||d&8)&&V(Ie,t[3]),(!N||d&16)&&V(be,t[4])},i(t){N||(Lt(_.$$.fragment,t),N=!0)},o(t){Mt(_.$$.fragment,t),N=!1},d(t){Yt(_,t),t&&s(y),t&&s(h),t&&s(w),t&&s(E)}}}const ua=async function({params:a,url:_,stuff:y}){const{searchParams:h}=_;h.has("time-range")&&h.delete("time-range");const g=a.namespace,S=y.namespaces.find(E=>E.namespaceInfo.name===g);if(!S)return{error:`Namespace ${g} does not exist`,status:404};const w=Zt(S);return{props:{currentNamespace:S,clusters:w}}};function xt(a,_,y){let h,g,P,S,w;Ee(a,kt,c=>y(6,h=c)),Ee(a,Xt,c=>y(2,g=c)),Ee(a,Jt,c=>y(3,P=c)),Ee(a,Kt,c=>y(4,S=c)),Ee(a,Qt,c=>y(5,w=c));let{currentNamespace:E}=_,{clusters:i}=_;return Bt(()=>{var c;zt(kt,h=(c=E==null?void 0:E.namespaceInfo)===null||c===void 0?void 0:c.name,h)}),a.$$set=c=>{"currentNamespace"in c&&y(0,E=c.currentNamespace),"clusters"in c&&y(1,i=c.clusters)},[E,i,g,P,S,w]}class da extends Ht{constructor(_){super(),Ot(this,_,xt,$t,Gt,{currentNamespace:0,clusters:1})}}export{da as default,ua as load};
